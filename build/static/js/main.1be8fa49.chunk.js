(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){},31:function(e,t,a){e.exports=a(62)},36:function(e,t,a){},37:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),u=a(8),o=(a(36),a(5)),i=a(1);a(13),a(37);var s=function(){return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("h4",null,"Botanic Tracker"),r.a.createElement(u.b,{to:"/"},"Home"),r.a.createElement(u.b,{to:"/create"},"Create"),r.a.createElement(u.b,{to:"/login"},"Login")))};function m(){return r.a.createElement("footer",null,r.a.createElement("h6",null,"This is the footer"))}var p=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,{className:"container"}),r.a.createElement("main",null,t),r.a.createElement(m,null))},E=a(9),f=a.n(E),d=a(11),v=a(12),h=a.n(v),b=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){e.isLoggedIn?u({owner:e.user._id}):u()}),[e.isLoggedIn,e.user._id]);var u=function(){var e=Object(d.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://botanictracker-api.herokuapp.com/plants",t&&(a=a+"?owner="+t.owner),e.next=4,h()({method:"get",url:a});case 4:n=e.sent,c(n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=l.map((function(e){return r.a.createElement("div",{key:e._id,className:"card"},r.a.createElement("h3",null,e.name),r.a.createElement("p",null,e.species),r.a.createElement("p",null,e.age),r.a.createElement("button",{onClick:function(){return t=e._id,void console.log(t);var t}},"x"),r.a.createElement("button",{onClick:function(){return t=e._id,void console.log(t);var t}},"e"))}));return r.a.createElement("div",null,r.a.createElement("section",{className:"hero"},r.a.createElement("h1",null,'"Track your plants!"')),r.a.createElement("section",{className:"hero"},r.a.createElement("h3",null,"Your plants"),r.a.createElement("div",{className:"plants"},r.a.createElement("ul",null,i))))},g=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),s=Object(o.a)(u,2),m=s[0],p=s[1],E=Object(i.f)(),v=function(){var t=Object(d.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,h()({method:"post",url:"https://botanictracker-api.herokuapp.com/users/login",data:{email:l,password:m}});case 3:n=t.sent,localStorage.setItem("token",n.data.token),e.logIn(),e.updateUser(n.data.user),c(""),p(""),E.push("/");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",name:"email",autoComplete:"email",value:l,onChange:function(e){c(e.target.value)}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",autoComplete:"password",value:m,onChange:function(e){p(e.target.value)}}),r.a.createElement("button",{onClick:v},"Login")))},j=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),u=Object(o.a)(c,2),s=u[0],m=u[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),v=E[0],b=E[1],g=Object(i.f)(),j=function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h()({method:"post",url:"https://botanictracker-api.herokuapp.com/plants/",data:{name:a,species:s,age:v},headers:{authorization:"Bearer ".concat(localStorage.token)}});case 3:n=e.sent,console.log(n),g.push("/");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h3",null,"Create a new plant!"),r.a.createElement("form",null,r.a.createElement("label",null,"Plant Name"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:function(e){l(e.target.value)}}),r.a.createElement("label",null,"Species"),r.a.createElement("input",{type:"text",name:"species",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement("label",null,"Age"),r.a.createElement("input",{type:"text",name:"age",value:v,onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{onClick:j},"Create")))};var O=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({}),u=Object(o.a)(c,2),s=u[0],m=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{isLoggedIn:a,user:s},r.a.createElement("div",{className:"container"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(b,{isLoggedIn:a,user:s})),r.a.createElement(i.a,{path:"/login"},r.a.createElement(g,{logIn:function(){l(!a)},updateUser:function(e){m(e)}})),r.a.createElement(i.a,{path:"/create"},r.a.createElement(j,null))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(O,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.1be8fa49.chunk.js.map